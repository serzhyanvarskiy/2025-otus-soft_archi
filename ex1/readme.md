ДЗ №1 студента курса  "Software Architector" Жарова Сергея. 16.04.2025_
_Анализ требований и подготовка архитектурного решения_

# Бизнес-контекст
Крупное  туристическое  агентство работающее по всему миру. Ведёт крупную базу своих клиентов и их заказов, поставщиков услуг. Из-за слабой интеграции, существующее программное обеспечение  не позволяет удовлетворить амбиции компании и вывести обслуживание клиентов на новый уровень.  
Ведутся  переговоры о партнерских  соглашениях  для  создания  "привилегированных"  поставщиков , которые должны  работать на международном уровне.
_Пользователи: более 10 000  зарегистрированных  пользователей по всему миру_

# Бизнес-цели и бизнес-драйверы

_Цель:_ Создать  онлайн-панель  управления  поездками  нового  поколения, которая позволит  путешественникам  просматривать  все  свои  существующие  бронирования, организованные  путешествия, как  онлайн, так и через  свои  мобильные  устройства.

_Драйверы:_

- повышение конкуренции; 
- удовлетворённость клиентов;
- увеличение доли рынка;
- повышение выручки за счёт получения дополнительных преференций (выгодных предложений) от бизнес - партнёров.


# Стейкхолдеры и их потребности 
1. **Департамент маркетинга и техническая дирекция**
- полная интеграция  с  существующими  туристическими  системами;
- система  должна  взаимодействовать  с  существующей  в  агентстве системой взаимодействия с авиакомпаниями,  отелями  и  прокатом автомобилей;
- удобный пользовательский  интерфейс, доступный  на  всех  платформах  развертывания.
2. **Департамент финансового управления и планирования**
- срок разработки системы и начала ввода в эксплуатацию не должен превышать 1 года с момента подписания договора и технического задания на разработку.
- стоимость разработки не должна превышать плановые годовые затраты компании на автоматизацию бизнес-процессов в 2025-2026 гг. 
- стоимость годового технического сопровождения введённой в эксплуатацию системы не должна превышать плановых затрат компании на техническое и сервисное обслуживание текущих средств автоматизации.
- 
4. **Аналитики**
- система должна обеспечивать возможность анализа эффективности бизнес-процессов, деятельности поставщиков, качества предоставляемых услуг посредством формирования отчётности;
- наборы и структура отчётов должны быть легко модифицируемыми силами сотрудников аналитического отдела;
5. **Пользователи**
- система в личном кабинете  должна загружать информацию клиента от информационных систем компаний-партнёров о его  бронированиях, бонусных  баллах в отелях и информацию о  вознаграждениях за аренду автомобилей;  
- клиенты  должны  иметь  возможность  добавлять  существующие  бронирования  вручную;  
- элементы  на  панели мониторинга должны  быть  сгруппированы  по  поездкам,  а  после  завершения  поездки  элементы  должны  автоматически  удаляться  с  панели мониторинга;  
- пользователи  также  должны  иметь  возможность  делиться  информацией о своих  поездках, взаимодействуя  со  стандартными  сайтами  социальных  сетей;
- максимально удобный пользовательский  интерфейс, доступный  на  всех  платформах  развертывания;
- гарантированный доступ к ресурсу 24/7.
6. **Департамент информационной безопасности**
- исключение несанкционированного доступа к информационным ресурсам компании;
- исключение несанкционированного доступа к информационным ресурсам компаний партнёров через информационные каналы компании;
- двухфакторная аутентификация пользователей;
- ролевое разделение доступа к ресурсам.
7. **Администраторы, техническая поддержка**
- исключение возможности утери информационных ресурсов компании, пользовательских данных и их утечки;
- возможность последовательного масштабирования ресурсов, связанных с расширением клиентской базы, сезонной активности пользователей;
- возможность технического сопровождения (в том числе удалённого) информационных ресурсов компании 24/7.

# Пользовательские истории

_Сотрудник  отдела маркетинга_ просматривает отчёт по трендам предыдущих сезонов по клиентам с заданными параметрами. В отчётах наблюдает сегментированный перечень бронирования услуг по поставщикам. Информация предоставляется посредством web и desktop приложений. Загруженную отчётность можно экспортировать в электронные документы в формате офисных приложений применяемых в документообороте компании. 

_Аналитик_ формирует отчёты по заданному руководством формату и набору параметров. Разработанный шаблон отчёта, а также готовые отчёты с описанием и комментариями, аналитик отправляет (можно ссылку) заинтересованным  менеджерам и другим пользователям.

_Пользователь-клиент_ входит систему (мобильное приложение / интернет портал) в личный кабинет под своей учётной записью. На экранной форме выбирает сформированное путешествие и просматривает свои текущие бронирования билетов, отелей. Просматривает рекомендуемые варианты доставки в аэропорты, отели. Просматривает сообщения, видео и фото, выставленные пользователями по текущему маршруту. Просматривает статистику пользовательской активности по посещению достопримечательностей, бронированию отелей, используемым услугам. 
На экранной форме пользователь просматривает историю своих заказов, оставляет отзывы, мультимедиа и синхронизирует контент со своими каналами в соцсетях.

_Специалист по информационной безопасности_ средствами специального приложения имеет возможность усиления режима предоставления доступа пользователям методами расширения аутентификационных правил и временного отключения доступа от ресурсов, смены ролевой политики доступа. Наблюдает подозрительную пользовательскую активность, случаи попыток несанкционированного доступа,  тестирует защищённый доступ к информационным ресурсам партнёров.

_Администраторы_  при увеличении клиентской базы имеют возможность масштабировать систему за счёт аренды дополнительного серверного оборудования без доработки программного обеспечения. _Специалисты технической поддержки_ принимают и отвечают на заявки и жалобы клиентов через сервисный чат информационного портала.

# Атрибуты качества

1.  Доступность. Время доступности системы 24/7, необходимо сделать всё возможное для быстрого восстановления.
2. Безопасность. Обеспечение защиты информации от несанкционированного доступа.
3. Удобство и простота использования. 
4. Локализуемость. Возможность поддержки нескольких языков ввода, единиц измерения, валют.
5. Масштабируемость. Работоспособность системы при росте числа пользователей или ужесточения уровня технических требований.
6. Расширяемость. Важно иметь возможность подключения новых функций.
7. Совместимость. Возможность обмениваться информацией с другими продуктами.

# Контекстная схема 

![enter image description here](%D0%9A%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BD%D0%B0%D1%8F%20%D1%81%D1%85%D0%B5%D0%BC%D0%B0.jpg)

# Критические сценарии и характеристики

1. В предпраздничный период и в праздники максимальная нагрузка системы вырастает до 75% всех зарегистрированных пользователей.
2. Пиковый рост клиентской базы может составлять не менее 100% в месяц.
3. Отдел маркетинга заказывает и вводит дополнительную функциональную нагрузку системы с периодом раз в 3 месяца в объёме до 10% от базовой.
4. В случае нарушения целостности информации, восстановление системы выполняется в течении одних суток. Допустимая актуальность восстанавливаемой информации -24 часа.
5. Система не допускает использование одинаковых, простых паролей для всех приложений и учётных записей. 
6. Для сотрудников имеющих доступ к критической информации, технически не допускается передача своего логина и пароля другим работникам, а также проводится актуализация учётных записей действующих сотрудников с учётом их текущих уровней доступа к информации.

#  Архитектурные решения в виде ADR

1. _Контекст:_ полная интеграция  с  существующими  туристическими  системами;
- система  должна  взаимодействовать  с  существующей  в  агентстве системой взаимодействия с авиакомпаниями,  отелями  и  прокатом автомобилей;
- удобный пользовательский  интерфейс, доступный  на  всех  платформах  развертывания.
_Варианты реализации:_
А) Корпоративный WEB - портал.
Б) Набор desktop-приложений: мобильный клиент, комплекты бизнес-ориентированных приложений (автоматизированные рабочие места сотрудников).
В) Система на базе сервисов: клиентское приложение взаимодействует с системой реализующей бизнес-логику процессов средствами сервисов.
Решение: 
Применим гибридную схему на основе многоуровневой архитектуры с частичной реализацией бизнес-процессов функциональными наборами сервисов. 
- Уровень представления: клиентская часть html/js ; мобильное приложение.
_Доступ клиента к услугам через web-приложение позволяет работать с абсолютно любого электронного устройства имеющего браузер и подключение к каналу Internet. Применение технологии Ajax на средствами js фреймворков позволит обеспечить достойный уровень интерфейса даже с учётом ограничения трафика. Мобильное приложение обеспечивает дополнительные функциональные возможности и удобство эксплуатации._
- Уровень бизнес-логики: корпоративный web-сервер, java-приложение,  Spring фреймворки; функциональные наборы сервисов. Включает уровень сохранения данных средствами JPA, JDBC, SQL. 
_Организация информационной системы на базе web-портала позволяет её развёртывание как на собственных технических средствах компании, так и средствами хостинга. Также, это позволяет обеспечивать удалённую работу сотрудников с информационными ресурсами компании. Реализация взаимодействия системы с информационными ресурсами поставщиков услуг и партнёров, а также синхронизация пользовательского контента в соцсетях, обеспечивается посредством специализированных сервисов. Сервисы выполняют функции "адаптеров" обеспечивая внешнее информационно-техническое взаимодействие в соответствии с согласованными протоколами работы внешних систем. Выбранный стек технологий позволяет реализовать масштабируемую, сопровождаемую и функционально расширяемую систему._
- Уровень баз данных: сервер(ы) БД под управлением СУБД Oracle. Организация схемы БД определяется доменным разбиением и позволяет при необходимости усиливать эффект CQRS решения. 
_Выделение серверов БД в отдельный топологический уровень позволяет обеспечить: высокий уровень информационной безопасности; удобство масштабирования (ресурсное распределение схемы на отдельные БД, шардирование); быстродействие при обработке и выполнении запросов за счёт применения различных вариантов организации RAID-массивов. Выбранное СУБД обладает требуемым инструментарием, высокой степенью защиты, необходимым разнообразием элементов для построения схем, высокой степенью совместимости с различными системами генерации отчётов и быстродействием._
2. _Контекст:_
- система должна обеспечивать возможность анализа эффективности бизнес-процессов, деятельности поставщиков, качества предоставляемых услуг посредством формирования отчётности;
- наборы и структура отчётов должны быть легко модифицируемыми силами сотрудников аналитического отдела;
_Варианты реализации:_
А) Коробочная версия генератора отчётов: Cognos, Power Bi, Tableau.
Б) Разработка отчётов средствами R+Shiny, Python (Pandas).

Решение:
При определённых эксплуатационных преимуществах, внедрение коробочных вариантов связано с увеличением затрат на обучение сотрудников работе с ПО, приобретение лицензий. 
Специалисты аналитического отдела уже обладают необходимыми навыками обработки данных в различных программных средах включая Python. Интеграция в информационную систему разрабатываемой аналитиками отчётности в виде генерирующих отчёт скриптов и набора моделей отчётов (запрос - данные -  шаблон) в долгосрочной перспективе более целесообразна.
Для интеграции аналитической продукции (скриптов, моделей) в корпоративную систему, необходимо предусмотреть хранилище и соответствующий программный сервис генерации отчётных документов.
Предлагается предусмотреть возможность поддержки обоих средств из варианта Б.
В качестве временного альтернативного инструмента, для сотрудников не владеющих навыками обработки данных в программных средах, возможно использовать Power Bi с ограниченным набором лицензий.
